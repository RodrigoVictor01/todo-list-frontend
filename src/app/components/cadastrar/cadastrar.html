<div class="cadastrar-container">
    <div class="cadastrar-card">
        <div class="cadastrar-header">
            <h2>Criar Conta</h2>
            <p>Preencha os dados para se cadastrar</p>
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="cadastrar-form">
            <div class="form-group">
                <label for="fullName">Nome Completo</label>
                <input type="text" id="fullName" formControlName="fullName" class="form-control"
                    [class.error]="fullName?.invalid && fullName?.touched" placeholder="Digite seu nome completo" />
                <div *ngIf="fullName?.invalid && fullName?.touched" class="error-message">
                    <span *ngIf="fullName?.errors?.['required']">Nome completo é obrigatório</span>
                    <span *ngIf="fullName?.errors?.['minlength']">Nome deve ter pelo menos 2 caracteres</span>
                </div>
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" formControlName="email" class="form-control"
                    [class.error]="email?.invalid && email?.touched" placeholder="Digite seu email" />
                <div *ngIf="email?.invalid && email?.touched" class="error-message">
                    <span *ngIf="email?.errors?.['required']">Email é obrigatório</span>
                    <span *ngIf="email?.errors?.['email']">Email deve ter um formato válido</span>
                </div>
            </div>

            <div class="form-group">
                <label for="username">Usuário</label>
                <input type="text" id="username" formControlName="username" class="form-control"
                    [class.error]="username?.invalid && username?.touched" placeholder="Digite seu nome de usuário" />
                <div *ngIf="username?.invalid && username?.touched" class="error-message">
                    <span *ngIf="username?.errors?.['required']">Usuário é obrigatório</span>
                    <span *ngIf="username?.errors?.['minlength']">Usuário deve ter pelo menos 3 caracteres</span>
                </div>
            </div>

            <div class="form-group">
                <label for="password">Senha</label>
                <input type="password" id="password" formControlName="password" class="form-control"
                    [class.error]="password?.invalid && password?.touched" placeholder="Digite sua senha" />
                <div *ngIf="password?.invalid && password?.touched" class="error-message">
                    <span *ngIf="password?.errors?.['required']">Senha é obrigatória</span>
                    <span *ngIf="password?.errors?.['minlength']">Senha deve ter pelo menos 6 caracteres</span>
                </div>
            </div>

            <div class="form-group">
                <label for="confirmPassword">Confirmar Senha</label>
                <input type="password" id="confirmPassword" formControlName="confirmPassword" class="form-control"
                    [class.error]="confirmPassword?.invalid && confirmPassword?.touched"
                    placeholder="Confirme sua senha" />
                <div *ngIf="confirmPassword?.invalid && confirmPassword?.touched" class="error-message">
                    <span *ngIf="confirmPassword?.errors?.['required']">Confirmação de senha é obrigatória</span>
                    <span *ngIf="confirmPassword?.errors?.['passwordMismatch']">Senhas não coincidem</span>
                </div>
            </div>

            <div *ngIf="errorMessage" class="alert alert-error">
                {{ errorMessage }}
            </div>

            <div *ngIf="successMessage" class="alert alert-success">
                {{ successMessage }}
            </div>

            <button type="submit" class="btn-cadastrar" [disabled]="isLoading" [class.loading]="isLoading">
                <span *ngIf="!isLoading">Criar Conta</span>
                <span *ngIf="isLoading">Criando conta...</span>
            </button>
        </form>

        <div class="cadastrar-footer">
            <p>Já tem uma conta? <a routerLink="/">Fazer Login</a></p>
        </div>
    </div>
</div>